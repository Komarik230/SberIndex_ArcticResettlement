<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Почему люди остаются в Арктике?</title>

    <link rel="stylesheet" href="/static/style.css">

</head>

<body>

<!-- СЕВЕРНОЕ СИЯНИЕ -->
<canvas id="auroraCanvas"></canvas>

<!-- ЛЕГЕНДА -->
<img id="legend" src="/static/Group1.svg">

<!-- КАРТА -->
<object id="map" type="image/svg+xml" data="/static/Карта_1_pora_data-dataframe.svg"></object>

<!-- ТЕКСТ -->
<div class="info-text">
    Люди остаются в Арктике.<br>
    Кто-то даже приезжает.<br><br>

    Почему?<br>
    Ответов много.<br><br>

    Но, может быть, важнее понять, что объединяет места, где жизнь не замерзает.
</div>
<!-- СЛАЙДЕР -->
<div class="slider-wrapper">

    <button class="slider-btn left">←</button>

    <div class="slider-track">

        <!-- СЛАЙД 1 — Frame2 -->
        <div class="slide">
            <img src="/static/Frame2.svg" alt="кадр 1">
        </div>

        <!-- СЛАЙД 2 — Frame6 -->
        <div class="slide">
            <img src="/static/Frame6.svg" alt="кадр 2">
        </div>

        <!-- СЛАЙД 3 — Frame7 -->
        <div class="slide">
            <img src="/static/Frame7.svg" alt="кадр 3">
        </div>

    </div>

    <button class="slider-btn right">→</button>

</div>

<!-- ИНФОГРАФИКА ПОСЛЕ СЛАЙДЕРА -->
<img class="bottom-infographic"
     src="/static/infographic_positive_1.svg"
     alt="Инфографика">

<a href="/scenario_left.html" class="switch-button">
    Посмотреть обратную сторону Арктики
</a>


<!-- СКРИПТЫ -->
<script src="/static/script.js"></script>

<!-- ВОЗВРАЩАЮ СИЯНИЕ -->
<script>
    const canvas = document.getElementById("auroraCanvas");
    const ctx = canvas.getContext("2d");

    function resize() {
        canvas.width = innerWidth;
        canvas.height = innerHeight;
    }
    resize();
    window.addEventListener("resize", resize);

    let t = 0;
    const clouds = [
      { color: "rgba(255,120,160,0.20)", size: 480 },
      { color: "rgba(120,200,255,0.25)", size: 560 },
      { color: "rgba(120,255,190,0.20)", size: 620 },
      { color: "rgba(180,140,255,0.18)", size: 520 },
      { color: "rgba(255,255,180,0.16)", size: 750 }
    ];

    let mouseX = 0, mouseY = 0;
    window.addEventListener("mousemove", e => {
      mouseX = e.clientX / innerWidth;
      mouseY = e.clientY / innerHeight;
    });

    function drawAurora() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      let bg = ctx.createLinearGradient(0,0,0,canvas.height);
    bg.addColorStop(0, "#322C55");
    bg.addColorStop(1, "#241F3D");

      ctx.fillStyle = bg;
      ctx.fillRect(0,0,canvas.width,canvas.height);

      clouds.forEach((c,i)=>{
        const x = canvas.width * (0.3 + 0.4 * Math.sin(t/(260+i*40)) + (mouseX-0.5)*0.25);
        const y = canvas.height * (0.4 + 0.3 * Math.cos(t/(280+i*50)) + (mouseY-0.5)*0.25);
        const r = c.size + Math.sin(t/(90+i*25))*35;

        const g = ctx.createRadialGradient(x,y,0,x,y,r);
        g.addColorStop(0, c.color);
        g.addColorStop(1, "transparent");

        ctx.globalCompositeOperation = "lighter";
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(x,y,r,0,Math.PI*2);
        ctx.fill();
      });

      ctx.globalCompositeOperation = "source-over";
      t++;
      requestAnimationFrame(drawAurora);
    }

    drawAurora();
</script>

</body>
</html>
